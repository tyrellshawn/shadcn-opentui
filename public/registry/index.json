{
  "$schema": "https://ui.shadcn.com/schema/registry.json",
  "name": "@shadcn-opentui",
  "description": "Terminal components for shadcn/ui powered by OpenTUI",
  "homepage": "https://opentui.dev",
  "repository": "https://github.com/shadcn-opentui/terminal",
  "items": [
    {
      "name": "terminal",
      "type": "registry:ui",
      "title": "Terminal",
      "description": "A fully featured terminal emulator component with command history, autocomplete, and theming.",
      "dependencies": ["lucide-react"],
      "registryDependencies": [],
      "files": [
        {
          "path": "components/ui/terminal.tsx",
          "content": "\"use client\"\n\nimport React, { useState, useRef, useCallback, useContext, createContext, useEffect, useLayoutEffect } from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport type { CommandHandler } from \"@/lib/types\" // Declare or import CommandHandler\n\ninterface TerminalLine {\n  id: string\n  type: \"input\" | \"output\" | \"error\" | \"success\"\n  content: string\n  timestamp: Date\n}\n\ninterface TerminalCommand {\n  name: string\n  description: string\n  handler: (args: string[], context?: any) => Promise<void> | void\n  category?: \"system\" | \"ui\" | \"data\" | \"custom\"\n  requiresUI?: boolean\n}\n\ninterface TerminalProps extends React.HTMLAttributes<HTMLDivElement> {\n  prompt?: string\n  welcomeMessage?: string[]\n  commands?: Record<string, CommandHandler>\n  onCommand?: (command: string, args: string[]) => Promise<void> | void\n  maxLines?: number\n  showTimestamp?: boolean\n  variant?: \"default\" | \"compact\" | \"minimal\"\n  autoScroll?: boolean\n  smoothScroll?: boolean\n}\n\ninterface TerminalUIComponent {\n  id: string\n  type: \"form\" | \"menu\" | \"slider\" | \"progress\" | \"table\" | \"chart\"\n  props: Record<string, any>\n  active: boolean\n}\n\ninterface TerminalState {\n  mode: \"command\" | \"ui\" | \"form\"\n  activeComponent?: TerminalUIComponent\n  formData: Record<string, any>\n  menuSelection: number\n}\n\ninterface OpenTUIContext {\n  state: TerminalState\n  setState: React.Dispatch<React.SetStateAction<TerminalState>>\n  addUIComponent: (component: TerminalUIComponent) => void\n  removeUIComponent: (id: string) => void\n  updateFormData: (key: string, value: any) => void\n}\n\nconst OpenTUIContext = createContext<OpenTUIContext | null>(null)\n\nexport const useOpenTUI = () => {\n  const context = useContext(OpenTUIContext)\n  if (!context) {\n    throw new Error(\"useOpenTUI must be used within a OpenTUIProvider\")\n  }\n  return context\n}\n\nexport const OpenTUIProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [state, setState] = useState<TerminalState>({ mode: \"command\", formData: {}, menuSelection: 0 })\n\n  const addUIComponent = useCallback((component: TerminalUIComponent) => {\n    setState(prevState => ({ ...prevState, activeComponent: component }))\n  }, [])\n\n  const removeUIComponent = useCallback((id: string) => {\n    setState(prevState => ({ ...prevState, activeComponent: undefined }))\n  }, [])\n\n  const updateFormData = useCallback((key: string, value: any) => {\n    setState(prevState => ({ ...prevState, formData: { ...prevState.formData, [key]: value } }))\n  }, [])\n\n  const value = { state, setState, addUIComponent, removeUIComponent, updateFormData }\n\n  return (\n    <OpenTUIContext.Provider value={value}>\n      {children}\n    </OpenTUIContext.Provider>\n  )\n}\n",
          "type": "registry:ui"
        },
        {
          "path": "lib/types.ts",
          "content": "export type CommandHandler = {\n  name: string\n  description: string\n  handler: (args: string[], context?: any) => Promise<void> | void\n  category?: \"system\" | \"ui\" | \"data\" | \"custom\"\n  requiresUI?: boolean\n}\n",
          "type": "registry:lib"
        }
      ]
    },
    {
      "name": "terminal-controls",
      "type": "registry:ui",
      "title": "Terminal Controls",
      "description": "Window control buttons (close, minimize, maximize) for the terminal.",
      "dependencies": [],
      "registryDependencies": ["terminal"],
      "files": [
        {
          "path": "components/ui/terminal-controls.tsx",
          "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { TerminalSlider } from \"./terminal-slider\"\nimport { Button } from \"./button\"\nimport { cn } from \"@/lib/utils\"\n\ninterface TerminalControlsProps {\n  className?: string\n  onCommand?: (command: string) => void\n}\n\nfunction TerminalControls({ className, onCommand }: TerminalControlsProps) {\n  const [volume, setVolume] = React.useState([75])\n  const [brightness, setBrightness] = React.useState([50])\n  const [speed, setSpeed] = React.useState([25])\n\n  const handleControlCommand = (type: string, value: number) => {\n    const command = `set ${type} ${value}`\n    onCommand?.(command)\n  }\n\n  return (\n    <div className={cn(\"space-y-4 p-4 border border-green-400/20 rounded bg-black/50\", className)}>\n      <div className=\"text-green-400 font-mono text-sm border-b border-green-400/20 pb-2\">TERMINAL CONTROLS</div>\n\n      <TerminalSlider\n        label=\"Volume\"\n        value={volume}\n        onValueChange={(val) => {\n          setVolume(val)\n          handleControlCommand(\"volume\", val[0])\n        }}\n        unit=\"%\"\n        max={100}\n      />\n\n      <TerminalSlider\n        label=\"Brightness\"\n        value={brightness}\n        onValueChange={(val) => {\n          setBrightness(val)\n          handleControlCommand(\"brightness\", val[0])\n        }}\n        unit=\"%\"\n        max={100}\n        ascii\n        width={15}\n      />\n\n      <TerminalSlider\n        label=\"Processing Speed\"\n        value={speed}\n        onValueChange={(val) => {\n          setSpeed(val)\n          handleControlCommand(\"speed\", val[0])\n        }}\n        unit=\" ops/s\"\n        max={100}\n      />\n\n      <div className=\"flex gap-2 pt-2\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"font-mono text-xs border-green-400/20 text-green-400 hover:bg-green-400/10 bg-transparent\"\n          onClick={() => onCommand?.(\"close\")}\n        >\n          Close\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"font-mono text-xs border-green-400/20 text-green-400 hover:bg-green-400/10 bg-transparent\"\n          onClick={() => onCommand?.(\"minimize\")}\n        >\n          Minimize\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"font-mono text-xs border-green-400/20 text-green-400 hover:bg-green-400/10 bg-transparent\"\n          onClick={() => onCommand?.(\"maximize\")}\n        >\n          Maximize\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport { TerminalControls }\n",
          "type": "registry:ui"
        }
      ]
    },
    {
      "name": "terminal-slider",
      "type": "registry:ui",
      "title": "Terminal Slider",
      "description": "An ASCII slider component for terminal interfaces.",
      "dependencies": [],
      "registryDependencies": ["terminal"],
      "files": [
        {
          "path": "components/ui/terminal-slider.tsx",
          "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\nimport { cn } from \"@/lib/utils\"\n\ninterface TerminalSliderProps extends React.ComponentProps<typeof SliderPrimitive.Root> {\n  label?: string\n  showValue?: boolean\n  unit?: string\n  ascii?: boolean\n  width?: number\n}\n\nfunction TerminalSlider({\n  className,\n  label,\n  showValue = true,\n  unit = \"\",\n  ascii = false,\n  width = 20,\n  value,\n  defaultValue,\n  min = 0,\n  max = 100,\n  ...props\n}: TerminalSliderProps) {\n  const [internalValue, setInternalValue] = React.useState(value || defaultValue || [min])\n\n  const currentValue = value || internalValue\n  const displayValue = Array.isArray(currentValue) ? currentValue[0] : currentValue\n\n  const createAsciiBar = (val: number, total: number, barWidth: number) => {\n    const filled = Math.round((val / total) * barWidth)\n    const empty = barWidth - filled\n    return \"█\".repeat(filled) + \"░\".repeat(empty)\n  }\n\n  const handleValueChange = (newValue: number[]) => {\n    setInternalValue(newValue)\n    props.onValueChange?.(newValue)\n  }\n\n  return (\n    <div className={cn(\"space-y-2 font-mono\", className)}>\n      {label && (\n        <div className=\"flex items-center justify-between text-sm\">\n          <span className=\"text-green-400\">{label}</span>\n          {showValue && (\n            <span className=\"text-muted-foreground\">\n              {displayValue}\n              {unit}\n            </span>\n          )}\n        </div>\n      )}\n\n      {ascii ? (\n        <div className=\"space-y-1\">\n          <div className=\"text-xs text-green-400 font-mono\">\n            [{createAsciiBar(displayValue, max, width)}] {displayValue}\n            {unit}\n          </div>\n          <SliderPrimitive.Root\n            value={currentValue}\n            defaultValue={defaultValue}\n            min={min}\n            max={max}\n            onValueChange={handleValueChange}\n            {...props}\n          >\n            <SliderPrimitive.Track className=\"bg-green-400/20 relative grow rounded-full h-1\">\n              <SliderPrimitive.Range className=\"absolute bg-green-400 rounded-full h-full\" />\n            </SliderPrimitive.Track>\n            <SliderPrimitive.Thumb className=\"block w-4 h-4 bg-green-400 rounded-full border-green-400 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n          </SliderPrimitive.Root>\n        </div>\n      ) : (\n        <SliderPrimitive.Root\n          value={currentValue}\n          defaultValue={defaultValue}\n          min={min}\n          max={max}\n          onValueChange={handleValueChange}\n          {...props}\n        >\n          <SliderPrimitive.Track className=\"bg-green-400/20 relative grow rounded-full h-1\">\n            <SliderPrimitive.Range className=\"absolute bg-green-400 rounded-full h-full\" />\n          </SliderPrimitive.Track>\n          <SliderPrimitive.Thumb className=\"block w-4 h-4 bg-green-400 rounded-full border-green-400 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n        </SliderPrimitive.Root>\n      )}\n    </div>\n  )\n}\n\nexport { TerminalSlider }\n",
          "type": "registry:ui"
        }
      ]
    }
  ]
}
