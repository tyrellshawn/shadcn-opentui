{
  "name": "cli-pastel-adapter",
  "type": "registry:lib",
  "title": "Pastel v4 Adapter",
  "description": "Adapter for Pastel v4.0.0+ CLI components (future implementation).",
  "dependencies": [],
  "registryDependencies": [
    "cli-plugin-types",
    "cli-base-adapter",
    "cli-version-negotiator"
  ],
  "files": [
    {
      "path": "lib/opentui/plugins/cli/adapters/pastel-adapter.ts",
      "content": "// Pastel v4.0.0+ Adapter for CLI Plugin Framework\n// Provides integration for Pastel CLI applications (future implementation)\n\nimport type {\n  CLILibrary,\n  VersionRange,\n  CLIFeature,\n  CLITerminalBridge,\n  CLIRenderInstance,\n} from \"../types\"\nimport { BaseCLIAdapter, BaseRenderInstance } from \"./base-adapter\"\n\n/**\n * Configuration options for the Pastel adapter\n */\nexport interface PastelAdapterOptions {\n  /** Enable debug mode */\n  debug?: boolean\n  /** Theme configuration */\n  theme?: PastelTheme\n}\n\n/**\n * Pastel theme configuration\n */\nexport interface PastelTheme {\n  primaryColor?: string\n  secondaryColor?: string\n  backgroundColor?: string\n  textColor?: string\n}\n\n/**\n * Default Pastel adapter options\n */\nconst DEFAULT_OPTIONS: Required<PastelAdapterOptions> = {\n  debug: false,\n  theme: {\n    primaryColor: \"cyan\",\n    secondaryColor: \"magenta\",\n    backgroundColor: \"black\",\n    textColor: \"white\",\n  },\n}\n\n/**\n * Pastel v4 supported features by version\n */\nconst PASTEL_FEATURES: Record<string, CLIFeature[]> = {\n  \"4.0.0\": [\n    \"useInput\",\n    \"flexbox\",\n    \"colors16\",\n    \"colors256\",\n    \"trueColor\",\n    \"unicode\",\n    \"boxDrawing\",\n  ],\n  \"4.1.0\": [\n    \"useInput\",\n    \"useFocus\",\n    \"flexbox\",\n    \"colors16\",\n    \"colors256\",\n    \"trueColor\",\n    \"unicode\",\n    \"boxDrawing\",\n    \"hyperlinks\",\n  ],\n}\n\n/**\n * Pastel render instance\n */\nclass PastelRenderInstance extends BaseRenderInstance {\n  private component: React.ComponentType<unknown>\n  private props: Record<string, unknown>\n  private bridge: CLITerminalBridge\n  private options: Required<PastelAdapterOptions>\n\n  constructor(\n    id: string,\n    component: React.ComponentType<unknown>,\n    props: Record<string, unknown>,\n    bridge: CLITerminalBridge,\n    options: Required<PastelAdapterOptions>\n  ) {\n    super(id)\n    this.component = component\n    this.props = props\n    this.bridge = bridge\n    this.options = options\n  }\n\n  rerender(props?: Record<string, unknown>): void {\n    if (!this._isActive) return\n    if (props) {\n      this.props = { ...this.props, ...props }\n    }\n    // Render logic would go here\n  }\n\n  clear(): void {\n    this.bridge.clear()\n  }\n\n  protected doUnmount(): void {\n    // Cleanup\n  }\n\n  protected doPause(): void {\n    // Pause rendering\n  }\n\n  protected doResume(): void {\n    // Resume rendering\n  }\n}\n\n/**\n * Pastel v4.0.0+ Adapter\n * \n * This adapter provides integration between Pastel CLI components and OpenTUI.\n * Pastel is an alternative CLI framework that may be supported in the future.\n * \n * Note: This is a stub implementation for future extension.\n */\nexport class PastelAdapter extends BaseCLIAdapter {\n  readonly library: CLILibrary = \"pastel\"\n  readonly adapterVersion = \"1.0.0\"\n  readonly supportedVersions: VersionRange = \">=4.0.0 <5.0.0\"\n\n  private options: Required<PastelAdapterOptions>\n  private currentLibraryVersion = \"4.0.0\"\n\n  constructor(options: PastelAdapterOptions = {}) {\n    super()\n    this.options = { \n      ...DEFAULT_OPTIONS, \n      ...options,\n      theme: { ...DEFAULT_OPTIONS.theme, ...options.theme },\n    }\n  }\n\n  /**\n   * Set the target Pastel library version\n   */\n  setTargetVersion(version: string): void {\n    this.currentLibraryVersion = version\n  }\n\n  protected async doInitialize(): Promise<void> {\n    if (this.options.debug) {\n      console.log(`[PastelAdapter] Initialized for Pastel ${this.supportedVersions}`)\n    }\n  }\n\n  protected async doDestroy(): Promise<void> {\n    if (this.options.debug) {\n      console.log(\"[PastelAdapter] Destroyed\")\n    }\n  }\n\n  protected doCreateRenderInstance(\n    id: string,\n    component: React.ComponentType<unknown>,\n    props: Record<string, unknown>,\n    bridge: CLITerminalBridge\n  ): CLIRenderInstance {\n    return new PastelRenderInstance(id, component, props, bridge, this.options)\n  }\n\n  protected getAdapterLibraryVersion(): string {\n    return this.currentLibraryVersion\n  }\n\n  protected getSupportedFeatures(): CLIFeature[] {\n    const version = this.currentLibraryVersion\n    const versionKeys = Object.keys(PASTEL_FEATURES).sort()\n    let features: CLIFeature[] = []\n    \n    for (const v of versionKeys) {\n      if (this.compareVersions(version, v) >= 0) {\n        features = PASTEL_FEATURES[v]\n      }\n    }\n    \n    return features\n  }\n\n  private compareVersions(a: string, b: string): number {\n    const partsA = a.split(\".\").map(Number)\n    const partsB = b.split(\".\").map(Number)\n    \n    for (let i = 0; i < Math.max(partsA.length, partsB.length); i++) {\n      const partA = partsA[i] || 0\n      const partB = partsB[i] || 0\n      if (partA !== partB) {\n        return partA - partB\n      }\n    }\n    \n    return 0\n  }\n\n  transformProps(props: Record<string, unknown>, targetVersion: string): Record<string, unknown> {\n    return { ...props }\n  }\n}\n\n/**\n * Create a Pastel adapter instance\n */\nexport function createPastelAdapter(options?: PastelAdapterOptions): PastelAdapter {\n  return new PastelAdapter(options)\n}\n\nexport type { PastelRenderInstance }\n",
      "type": "registry:ui"
    }
  ]
}